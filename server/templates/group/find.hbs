<div class="groups-actions">{{we-action-create-btn resourceName req}}</div>

{{#if req.user.id}}
<div class="groups-menu">
  <ul class="nav nav-tabs nav-justified">
    <li role="presentation" {{#if showAllGroups}}class="active"{{/if}}>
    {{#link-to 'group.find'}}
      {{t 'group.filter.all'}}</a></li>
    {{/link-to}}
    <li role="presentation" {{#if showUserGroups}}class="active"{{/if}}><a href="?my=true">{{t 'group.filter.my'}}</a></li>
    <li role="presentation" {{#if showNewGroups}}class="active"{{/if}}><a href="?my=false">{{t 'group.filter.new'}}</a></li>
  </ul>
</div>
{{/if}}

<div class="groups-search">
  <form class="form-inline" method="get">
    <div class="form-group">
      <label for="groups-search">{{t 'group.search.title'}}</label>
      <input name="name" type="text" class="form-control" id="groups-search" value="{{req.query.name}}">
    </div>

    <div class="form-group">
      <button class="btn btn-primary">{{t 'Search'}}</button>
    </div>
    <input name="my" type="hidden" value="{{req.query.my}}">
  </form>
</div>

<div class="groups">
{{#each data}}
  {{render-record-teaser modelName='group' record=this locals=..}}
  <hr>
{{else}}
  <br><br>
  <p class="text-center">{{t 'group.find.empty'}}</p>
{{/each}}
</div>

{{paginate count=metadata.count limit=query.limit currentPage=query.page req=req}}